---
output:
  md_document:
    variant: markdown_github
  html_document:
    variant: markdown_github
    keep_md: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo=FALSE}
library(knitr)
opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  fig.align = "center",
  fig.retina = 2,
  out.width = "75%",
  dpi = 96
)
knit_hooks$set(pngquant = hook_pngquant)
```

# intradayModel
Our package unlocks the power of intraday trading for you. With state-of-the-art state-space models, you can effortlessly decompose and forecast financial intraday signals. Our package now offers a univariate model for intraday trading volume, with more exciting features on intraday volatility and multivariate models coming soon.

## Installation
The package can be installed from [GitHub](https://github.com/convexfi/intradayModeling):
```{r, eval=FALSE}
# install development version from GitHub
devtools::install_github("convexfi/intradayModeling")
```

## Quick Start
To get started, we load the package and some sample data: the 15-minute intraday trading volume of AAPL from 2019-01-02 to 2019-06-28, covering 124 trading days.

```{r, message = FALSE}
devtools::load_all()
data(AAPL_volume)
AAPL_volume[1:5, 1:5]
```

Next, we define a univariate state-space model using the `uniModelSpec` function.

```{r}
model <- uniModelSpec(fit = TRUE)
```

Then, we use the first 104 trading days to fit the model and the last 20 days to evaluate its forecasting performance. Fitting can be achieved by the `uniModelFit` function.

```{r}
data <- AAPL_volume
data_train <- AAPL_volume[, 1:104]
model_fitted <- uniModelFit(data_train, model, acceleration = TRUE)
```

Once the model is fitted, we use the `uniModelFilter` function to decompose intraday trading signal into daily, seasonal, and intraday dynamic components. This helps us better understand the composition of the intraday signal.

```{r quick-start-filter}
filter_result <- uniModelFilter(data_train, model_fitted)
filter_result$plot
```

To see how well our model performs on new data, we use the `uniModelPred` function to do one-step-ahead prediction on the last 20 trading days of the dataset. This function also helps to evaluate the accuracy of the forecast.

```{r quick-start-pred}
predict_result <- uniModelPred(data, model_fitted, out.sample = 20)
predict_result$measure
predict_result$plot
```

## Contributing
We welcome all sorts of contributions. Please feel free to open an issue
to report a bug or discuss a feature request.

## Citation
If you made use of this software please consider citing:

- Chen, R., Feng, Y., and Palomar, D. (2016). Forecasting intraday trading volume: A kalman filter approach. <https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3101695>

## Links
Package: [GitHub](https://github.com/convexfi/intradayModeling)

README file: [GitHub-readme](https://github.com/convexfi/intradayModeling/blob/master/README.md).

Vignette: [GitHub-vignette](https://htmlpreview.github.io/?https://github.com/convexfi/intradayModeling/blob/master/vignettes/intradayModel.html).
